**このネタはボツ**

本家のファームウエア更新のたびに rcS とか書き換わってしまうのでフォーマットを変えると
mmcblk0p3 がマウントできなくなってしまう，面倒で使ってられない．

外部 SD の exFAT サポートには流用できそうな感じはするが，自分は内蔵側しか使わないから
やっても意味なし．


---


自分向けのメモのつもり，読むな危険(ウソ)．

ちょっと exFAT についていろいろ書いていく．

SQLite の DB ファイルが置いてあるパーティションは FAT32 フォーマットなのだけど，
これはランダムアクセスするするのに不向きなのではないか... いっそ別のフォーマットに
してみたらどうなるだろう，と考えるようになった．

かといって USB ケーブルで Windows マシンなどの母艦に接続した時にもちゃんと
見えるようにしなきゃいけないわけで，なんでもいいってことではない．NTFS か exFAT
だよな，と．

exFAT の方が後発で，しかも USB メモリや SDXC にも使われているから，こっちの方に
してみることを考える．

## LInux で exFAT を使うには ##
LInux でのサポート状況を調べてみると，FUSE 経由で exFAT をハンドリングする実装が
広く使われているようである．

  * https://code.google.com/p/exfat

fsck も mkfs もあるな，よしよし．ほいじゃ，これコンパイルしてみるかな．

## mmcblk0p3 を触っているところ ##
調べ中．

  * `/etc/init.d/rcS` (dosfsck, mount)
  * `/usr/local/Kobo/udev/usb` (dosfsck, mount, umount)

  * `/usr/local/Kobo/udev/sd` (dosfsck, mount, umount 外部 SD は VFAT のままがよかろう)

## ファクトリーリセット時の動作 ##
調べ中．

## MBR 情報 ##
パーティション識別子は 0x07/0x17 (FAT32 とは値が異なる)